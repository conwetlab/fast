<html>
<head>
<meta http-equiv="Content-Type"
    content="application/xhtml+xml; charset=UTF-8" />
<link type="text/css" rel="stylesheet"
    href="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/screens/css.css" />
<link type="text/css" rel="stylesheet"
    href="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/screens/internet.css" />
<style type="text/css">
#bodyDiv {
    max-width: 550px;
}

#searchArea {
    border: 1px solid #F8A704;
    -moz-border-radius: 13px 13px;
    background: #FFF8E8
        url(http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/screens/bg_td2.jpg) repeat-x;
    border: 1px solid #F8A704;
    height: 50px;
    margin: 5px auto 0px;
    padding: 0px;
    text-align: center;
    width: 100%;
}

#contents {
    padding: 12px;
}

#send {
    margin-left: 15px;
}

#amazonImage {
    position: absolute;
    right: 2px;
    top: 3px;
}

.title {
    padding: 2px;
    color: #AAAAAA;
    font-weight: bold;
    font-family: Arial, Helvetica, sans-serif;
    white-space: nowrap;
    overflow: hidden;
}
</style>
<script language="JavaScript">
    function Ofertas(){
        var p = null;
    };

    Ofertas.prototype.init = function (){
        ofertas.p = {name: 'http://TODO/canalonline#shoppingCart', 'product': 'Linea + DUO ADSL + Llamadas Nacionales'};
        //Get the facts to invoke the service
        var servicio = EngineFactory.getInstance().getFact('http://TODO/canalonline#clientService');
        var segmento = EngineFactory.getInstance().getFact('http://TODO/canalonline#clientSegment');
        var telefono = EngineFactory.getInstance().getFact('http://TODO/canalonline#clientPhone');
        var img = document.getElementById("oferta_img");
        var txt = document.getElementById("coment_tfno");
        if(telefono.valor != null) {
            txt.innerHTML = "Superoferta para el tel&eacute;fono " + telefono.value;
        } else {
            txt.innerHTML = "";
        }
        if(servicio.value == 'I') {
            img.src="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/images/Internet_yacliente.gif";
            ofertas.p = {name: 'http://TODO/canalonline#shoppingCart', product: 'DUO ADSL + Llamadas Nacionales'};
        } else if(servicio.value == 'Tf') {
            img.src="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/images/TF_NOcliente.gif";	                    
            ofertas.p = {name: 'http://TODO/canalonline#shoppingCart', product: 'Linea + Telefono + Servicios'};
        } else if(servicio.value == 'Tv') {
            img.src="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/images/TV_yacliente.gif";	                    
            ofertas.p = {name: 'http://TODO/canalonline#shoppingCart', product: 'TRIO'};
        }
    }

    Ofertas.prototype.send = function (){
        EngineFactory.getInstance().manageFacts([ofertas.p],['promotion']);
    }
    var ofertas = new Ofertas();
    EngineFactory.getInstance().addScreenLoader("Promotions", ofertas.init);
</script>
</head>
<body>
    <div id="bodyDiv" style="text-align: center;">
        <h1 id="coment_tfno" class="texto1_1_bold">Superofertas</h1>
        <br>
        <img id="oferta_img"
            src="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/images/Internet_NOcliente.gif"><BR>
        <img id="contratar_img"
            src="http://ezgadget.googlecode.com/svn/trunk/ezgadget/CanalOnline/images/be_contratar.gif"
            onclick="ofertas.send();">
    </div>
</body>
</html>